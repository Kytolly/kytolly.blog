<!DOCTYPE html>
<html>
<meta charset="utf-8" />
  <!-- 标签页 -->
  <!-- 标签页 -->
<title>
    语义分析
</title>


<link rel="shortcut icon" href="/icon.svg">


  <body>  
    <!-- 配置引用 -->
    <script>
  window.THEME_CONFIG = {
    image: {
      enable: 'true',
      center: 'true',
      caption: 'true'
    },
    code_block: {
      copy_button: "icon/copy.svg",
      theme_toggle: {
        enable: 'true',
        to_light_button: "icon/light.svg",
        to_dark_button: "icon/dark.svg",
        light_theme: "/css/vscode-modern-light.css",
        dark_theme: "/css/vscode-modern-dark.css"
      },
      mac_enhancer: {
        enable: 'true',
        init_folded_status: 'true'
      }
    },
    giscus: {
      repo: "Kytolly/MyGiscus",
      repo_id: "R_kgDOK_0_0A",
      category: "Announcements",
      category_id: "DIC_kwDOK_0_0A",
      mapping: "pathname",
      strict: "0",
      reactions_enabled: "1",
      emit_metadata: "0",
      input_position: "top",
      lang: "zh-CN",
      loading: "lazy"
    },
    heading_numbering: 'true',
    three_line_table: 'true',
    background: {
      enable: 'true',
      folder: 'img/',
      opacity: '0.1',
      position: 'center',
      size: 'cover',
      repeat: 'no-repeat',
      image: {
        mode: 'random',
        name: 'background.jpg',
        count: '113'
      }
    },
  };
</script>
<script>
  console.log(window.THEME_CONFIG);
</script>

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    
    <!-- 字体 -->
    <!-- 字体 -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <!-- 代码块 -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
      
        <link rel="stylesheet" href="/css/vscode-modern-light.css">
        <link rel="stylesheet" href="/css/vscode-modern-dark.css">
        <!-- DEBUG: url_for light path: /css/vscode-modern-light.css -->
        <!-- DEBUG: url_for dark path: /css/vscode-modern-dark.css -->
      
    
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>

    <!-- 数学公式 -->
    
<link rel="stylesheet" href="/css/mathjax.css">

    
<script src="/js/mathjax.js"></script>

    
    <!-- 标题编号 -->
    
      
<link rel="stylesheet" href="/css/heading-numbering.css">

      
<script src="/js/heading-numbering.js"></script>

    
    
    <!-- 三线表样式 -->
    
      
<link rel="stylesheet" href="/css/three-line-table.css">

    
  
    <!-- 图片样式 -->
    
      
<link rel="stylesheet" href="/css/image-handler.css">

      
<script src="/js/image-handler.js"></script>

    
    
  
    
<link rel="stylesheet" href="/css/root.css">

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/post.css">


    <!-- 代码块基础样式 -->
    
<link rel="stylesheet" href="/css/code-block-base.css">

  
    <!-- Codeblock Theme Toggler CSS -->
    
    
<link rel="stylesheet" href="/css/codeblock-theme-toggle.css">

    
  
    <!-- Codeblock Mac Enhancer CSS -->
    
    
<link rel="stylesheet" href="/css/code-block-mac-enhancer.css">

    
  
    <!-- TOC 样式 -->
    <link rel="stylesheet" href="/css/toc.css">
    
  <!-- hexo injector head_end start -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
  <!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0">
</head>


    <div class="site-container">
      <!-- 导航栏 -->
      <!--(头部 top bar) Header 样式 -->

<link rel="stylesheet" href="/css/header.css">


<header class="header">
  <section class="header-container">
    <a class="header-logo" href="/">Kytolly&#39;s Blog</a>
    <div class="header-right-section">
      <ul class="header-nav">
        
        <li>
          <a href="/">
            <img src="/icon/index.svg" alt="index icon" style="width:1.2em;height:1.2em;vertical-align:middle;">
            index
          </a>
        </li>
        
        <li>
          <a href="/archive">
            <img src="/icon/archive.svg" alt="archive icon" style="width:1.2em;height:1.2em;vertical-align:middle;">
            archive
          </a>
        </li>
        
        <li>
          <a href="/tag">
            <img src="/icon/tag.svg" alt="tag icon" style="width:1.2em;height:1.2em;vertical-align:middle;">
            tag
          </a>
        </li>
        
        <li>
          <a href="/about">
            <img src="/icon/about.svg" alt="about icon" style="width:1.2em;height:1.2em;vertical-align:middle;">
            about
          </a>
        </li>
        
      </ul>
      
      
      <div class="header-search-container search-trigger">
        <img src="/icon/search.svg" alt="Search Icon" class="search-icon" style="width:1.2em;height:1.2em;vertical-align:middle;">
        <input type="text" id="header-search-input" placeholder="searching..." readonly>
      </div>
      
    </div>
  </section>
</header>


<script src="/js/search.js"></script>


      <!-- 路由 根据页面类型决定渲染内容 -->
      <main class="main">
  
    <article class="post-container">
  <!-- 可选：左侧跟随目录 -->
  
  <aside id="toc-container" class="toc-container toc-left toc-expanded">
    <div id="toc-title" class="toc-title">语义分析</div>
    <div id="toc-content" class="toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E4%B9%89"><span class="toc-number">1.</span> <span class="toc-text">语义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GAM"><span class="toc-number">1.1.</span> <span class="toc-text">GAM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.1.</span> <span class="toc-text">组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text">工作方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90"><span class="toc-number">1.2.</span> <span class="toc-text">语义分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8"><span class="toc-number">2.</span> <span class="toc-text">符号表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A2%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">形式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8-1"><span class="toc-number">3.</span> <span class="toc-text">符号表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">3.1.</span> <span class="toc-text">结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90-1"><span class="toc-number">4.</span> <span class="toc-text">语义分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91"><span class="toc-number">5.</span> <span class="toc-text">语法制导翻译</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">5.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E5%B7%A6%E9%80%92%E5%BD%92"><span class="toc-number">5.2.</span> <span class="toc-text">消除左递归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E5%B0%BE%E9%80%92%E5%BD%92"><span class="toc-number">5.3.</span> <span class="toc-text">消除尾递归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E7%AC%A6%E5%8F%B7%E8%A1%A8"><span class="toc-number">5.4.</span> <span class="toc-text">调用符号表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E8%A1%A8%E7%A4%BA%E5%BD%A2%E5%BC%8F-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">6.</span> <span class="toc-text">中间表示形式 &amp; 虚拟机</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E7%BC%80%E8%A1%A8%E7%A4%BA"><span class="toc-number">6.1.</span> <span class="toc-text">后缀表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">6.2.</span> <span class="toc-text">抽象语法树(abstract syntax tree)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%9C%B0%E5%9D%80%E4%BB%A3%E7%A0%81-%E5%9B%9B%E5%85%83%E5%BC%8F"><span class="toc-number">6.3.</span> <span class="toc-text">三地址代码 &amp; 四元式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BF%BB%E8%AF%91"><span class="toc-number">7.</span> <span class="toc-text">翻译</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E4%B9%89%E5%8F%98%E9%87%8F%E5%92%8C%E8%AF%AD%E4%B9%89%E8%BF%87%E7%A8%8B"><span class="toc-number">7.1.</span> <span class="toc-text">语义变量和语义过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BF%BB%E8%AF%91%E8%AF%B4%E6%98%8E%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.2.</span> <span class="toc-text">翻译说明语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BF%BB%E8%AF%91%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.3.</span> <span class="toc-text">翻译赋值语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%BF%BB%E8%AF%91"><span class="toc-number">7.4.</span> <span class="toc-text">布尔表达式的翻译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E6%9D%A1%E4%BB%B6%E8%BD%AC%E7%A7%BB%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%BF%BB%E8%AF%91"><span class="toc-number">7.5.</span> <span class="toc-text">无条件转移语句的翻译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%B7%B3%E8%BD%AC%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%BF%BB%E8%AF%91"><span class="toc-number">7.6.</span> <span class="toc-text">条件跳转语句的翻译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%BF%BB%E8%AF%91"><span class="toc-number">7.7.</span> <span class="toc-text">while语句的翻译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%BF%BB%E8%AF%91"><span class="toc-number">7.8.</span> <span class="toc-text">for语句的翻译</span></a></li></ol></li></ol>
    </div>
  </aside>
 


<script src="/js/toc.js"></script>


  <!-- 可选：右侧 AI 摘要 -->
  

  <div class="post-main-wrapper">
    <!-- 文章 -->
    <div class="post-title">语义分析</div>
  <div class="post-meta">
    <div class="date">2025 六月 20日</div>
    <div class="tags">
      
        
        <div class="tag-item">Coursework</div>
        
        <div class="tag-item">Compilers</div>
        
      
    </div>
  </div>

<main class="post-content"><h2 id="语义"><a href="#语义" class="headerlink" title="语义"></a>语义</h2>
<p>定义：语言的单词符号和语法单位的作用和意义的规则组合；</p>
<p>一般用自然语言描述语义，使用<strong>抽象机</strong>(grammar abstract machine)的行为来描述语言语法单位的作用和意义，GAM主要用于实现惰性求值和图归约；</p>
<h3 id="GAM"><a href="#GAM" class="headerlink" title="GAM"></a>GAM</h3>
<h4 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h4>
<ul>
<li>存储区：分为代码段和数据段；
<ul>
<li>代码段存放执行的指令代码的内容不允许修改；</li>
<li>数据段存放必要的信息和程序中的数据；</li>
</ul>
</li>
<li>控制器</li>
<li>处理器</li>
<li>指令指针<code>ip</code>：指向代码段单元的地址，表示当前指令；自增操作：<code>ip = ip + 4</code>表示指针指向下一条指令，如果每条指令占4个字节的话；</li>
</ul>
<h4 id="工作方式"><a href="#工作方式" class="headerlink" title="工作方式"></a>工作方式</h4>
<p>GAM一旦启动，由专门的装入程序将待运行的程序装入代码存储区，并设置<code>ip</code>指向第一条指令，并执行如下操作</p>
<ol>
<li>执行<code>ip</code>指向的当前指令；</li>
<li>若<code>ip</code>指向<code>STOP</code>指令，则终止执行；</li>
<li>若指令未修改<code>ip</code>，则<code>ip</code>自增，指向下一条指令；</li>
<li>若修改了<code>ip</code>，则跳转到修改后<code>ip</code>指向的指令；</li>
</ol>
<h3 id="语义分析"><a href="#语义分析" class="headerlink" title="语义分析"></a>语义分析</h3>
<p><strong>语义分析</strong>(semantic analyzer)使用语法树和符号表检查源程序是否和语言定义的语义一致，同时收集类型信息；语义定义了程序的含义；</p>
<p>主要工作分为</p>
<ul>
<li>静态语义检查：类型检查(type checking)，控制流检查，一致性检查等</li>
<li>语义处理：自动类型转换(coercion)，说明语句登记信息，执行语句生成中间代码等</li>
</ul>
<p>静态检查一般由编译器前端完成，抛出特定类型错误；</p>
<ul>
<li>语法检查：部分包括在语法分析的文法中的语法要求；</li>
<li>类型检查：部分语言实现<strong>自动类型转换</strong>(coercion)；</li>
<li>左值和右值：考虑运算符的结合问题；</li>
</ul>
<h2 id="符号表"><a href="#符号表" class="headerlink" title="符号表"></a>符号表</h2>
<h3 id="形式"><a href="#形式" class="headerlink" title="形式"></a>形式</h3>
<p>符号表中每个名字对应一个表项，包括名字域和信息域；</p>
<ul>
<li>信息域设置若干子域和标志位，包括属性，类型，长度，相对地址，形参标志，说明标志，赋值标志等；</li>
<li>每个表项的组成和长度可能是不同的，需要采用简洁表技术；</li>
</ul>
<h2 id="符号表-1"><a href="#符号表-1" class="headerlink" title="符号表"></a>符号表</h2>
<p>符号表除了记录名字本身而外,还记录了与名字关联的各种属性信息。</p>
<p>每个名字对应一个表项，一个表项包括名字域和信息域。信息域通常设若干子域及标志位，其内容可以是和名字有关的任何信息，比如类型,种属,长度,相对地址，形参标志,说明标志,赋值标志等。</p>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3>
<p>实现结构可以采取线性表，或者Hash表实现；</p>
<h2 id="语义分析-1"><a href="#语义分析-1" class="headerlink" title="语义分析"></a>语义分析</h2>
<p><strong>语义分析</strong>(semantic analyzer)使用语法树和符号表检查源程序是否和语言定义的语义一致，同时收集类型信息；</p>
<ul>
<li><strong>类型检查</strong>(type checking)</li>
<li><strong>自动类型转换</strong>(coercion)</li>
</ul>
<p>语义定义了程序的含义；</p>
<h2 id="语法制导翻译"><a href="#语法制导翻译" class="headerlink" title="语法制导翻译"></a>语法制导翻译</h2>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3>
<p>上下文无关文法不仅可以描述一个语言的语法，还可以制导程序的翻译过程，这种技术称为 <strong>语法制导翻译</strong>(syntax-directed translation);</p>
<p>一个<strong>属性</strong>(attribute)是指某个与程序构造相关的量；</p>
<blockquote>
<p>比如表达式的数据类型，生成代码的指令数；在语法分析树上体现为结点上标记了相应的属性值，这样的树也称作注释分析树；</p>
</blockquote>
<p>对于一个<strong>语法制导定义</strong>(syntax-directed definition)实现了</p>
<ol>
<li>将每个文法符号和一个属性集合相关联;</li>
<li>把产生式和一组<strong>语义规则</strong>(semantic rule)相关联;</li>
</ol>
<p><img src="/assets/Compilers/%E4%BB%8E%E4%B8%AD%E7%BC%80%E8%A1%A8%E7%A4%BA%E5%88%B0%E5%90%8E%E7%BC%80%E8%A1%A8%E7%A4%BA%E7%9A%84%E7%BF%BB%E8%AF%91%E7%9A%84%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E5%AE%9A%E4%B9%89.png" alt="从中缀表示到后缀表示的翻译的语法制导定义"></p>
<p>换而言之，为每个产生式配上一个语义子程序 ,在<strong>语法分析过程</strong>中,使用一个<strong>产生式进行匹配或归约</strong>后；
就<strong>调用相应的语义子程序</strong>，进行语义分析。</p>
<p>对于一个语法制导的<strong>翻译方案</strong>(translation scheme)，定义为将程序片段附加到一个文法的各个产生式的表示法；</p>
<ul>
<li>在语法分析使用一个产生式时，相应的程序片段将被执行；</li>
<li>顺序组合这些方案，执行可以得到源程序的翻译结果；</li>
<li><strong>根据产生式，生成了中间代码,语法分析完成时，也就获得了完整的与源代码等价的中间代码。</strong></li>
</ul>
<p>对注释语法树来说</p>
<ul>
<li>一次深度优先遍历，会自顶向下地计算子结点属性后，得出根节点的属性值；</li>
<li>可采用前序遍历和后序遍历的方式，根据相关动作执行时间来定义结点次序</li>
</ul>
<p>语法制导翻译方案是一种在文法产生式中附加程序片段来描述翻译结果的表示方法；</p>
<ul>
<li><strong>语义动作</strong>：被嵌入到产生式体中的程序片段称为语义动作；</li>
<li>生成翻译方案的语法分析树时，需要为每个语义动作构造一个额外的，产生式头部的子节点；</li>
<li>在一次后续遍历中，先所有执行语义动作，然后访问没有语义动作的子节点；</li>
</ul>
<p>比如在LR分析过程中，使用一个产生式进行句柄的规约后，调用该产生式的响应的语义子程序，完成语义分析；</p>
<ul>
<li>包括语义检查和语义处理；</li>
<li>核心是生成中间代码；</li>
<li>在分析过程中每一次规约时，必须保存语义值；</li>
</ul>
<p>考虑一个翻译方案</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">expr -&gt; expr + term &#123;print(&#x27;+&#x27;)&#125;</span><br><span class="line">	   |expr - term &#123;print(&#x27;-&#x27;)&#125;</span><br><span class="line">	   |term</span><br><span class="line">term -&gt; 0 &#123;print(&#x27;0&#x27;)&#125;</span><br><span class="line">	   |1 &#123;print(&#x27;1&#x27;)&#125;</span><br><span class="line">	   ...</span><br><span class="line">	   |9 &#123;print(&#x27;9&#x27;)&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/assets/Compilers/9-5+2%E7%BF%BB%E8%AF%91%E6%88%9095-2+%E7%9A%84%E8%AF%AD%E4%B9%89%E5%8A%A8%E4%BD%9C.png" alt="9-5+2翻译成95-2+的语义动作"></p>
<p>通过拓展文法得到一个翻译器，我们可以拓展一个预测分析器来获得一个语法制导翻译器；</p>
<h3 id="消除左递归"><a href="#消除左递归" class="headerlink" title="消除左递归"></a>消除左递归</h3>
<p>将上述翻译方案的左递归消除后</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">expr -&gt; term rest</span><br><span class="line">rest -&gt; + term &#123;print(&#x27;+&#x27;)&#125; rest</span><br><span class="line">	   |- term &#123;print(&#x27;-&#x27;)&#125; rest</span><br><span class="line">	   |ε</span><br><span class="line">term -&gt; 0 &#123;print(&#x27;0&#x27;)&#125;</span><br><span class="line">	   |1 &#123;print(&#x27;1&#x27;)&#125;</span><br><span class="line">	   ...</span><br><span class="line">	   |9 &#123;print(&#x27;9&#x27;)&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/assets/Compilers/9-5+2%E7%BF%BB%E8%AF%91%E6%88%9095-2+%E7%9A%84%E6%B6%88%E9%99%A4%E5%B7%A6%E9%80%92%E5%BD%92%E5%90%8E%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%91.png" alt="/assets/9-5+2翻译成95-2+的消除左递归后的语法树"></p>
<h3 id="消除尾递归"><a href="#消除尾递归" class="headerlink" title="消除尾递归"></a>消除尾递归</h3>
<p>若过程体执行的最后一条语句时对该过程的递归调用，则称这个调用是<strong>尾递归的</strong>(tail recursive);</p>
<p>对于一个没有参数的尾递归调用可以改写为迭代；</p>
<h3 id="调用符号表"><a href="#调用符号表" class="headerlink" title="调用符号表"></a>调用符号表</h3>
<p>符号表的作用是将信息从声明的地方传递给实际使用的地方；</p>
<p>分析标识符的声明时，定义一个语义动作将有关从符号表中取出这个给标识符的信息；</p>
<h2 id="中间表示形式-虚拟机"><a href="#中间表示形式-虚拟机" class="headerlink" title="中间表示形式 &amp; 虚拟机"></a>中间表示形式 &amp; 虚拟机</h2>
<h3 id="后缀表示"><a href="#后缀表示" class="headerlink" title="后缀表示"></a>后缀表示</h3>
<p>对于我们熟悉的一个中缀表达式<svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.729ex" height="1.538ex" role="img" focusable="false" viewBox="0 -680 764 680" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-1-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-1-TEX-I-1D438"></use></g></g></g></svg>,其<strong>后缀表示</strong>(postfix notation)/逆波兰表示(reverse Polish notation)定义如下，记作<svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.391ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3709 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-2-TEX-N-52" d="M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"></path><path id="MJX-2-TEX-N-50" d="M130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488Z"></path><path id="MJX-2-TEX-N-4E" d="M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z"></path><path id="MJX-2-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-2-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-2-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="52" xlink:href="#MJX-2-TEX-N-52"></use></g><g data-mml-node="mi" transform="translate(736,0)"><use data-c="50" xlink:href="#MJX-2-TEX-N-50"></use></g><g data-mml-node="mi" transform="translate(1417,0)"><use data-c="4E" xlink:href="#MJX-2-TEX-N-4E"></use></g></g><g data-mml-node="mo" transform="translate(2167,0)"><use data-c="28" xlink:href="#MJX-2-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(2556,0)"><use data-c="1D438" xlink:href="#MJX-2-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(3320,0)"><use data-c="29" xlink:href="#MJX-2-TEX-N-29"></use></g></g></g></svg></p>
<ol>
<li>
<p>若<svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.729ex" height="1.538ex" role="img" focusable="false" viewBox="0 -680 764 680" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-3-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-3-TEX-I-1D438"></use></g></g></g></svg>是一个变量或常量,则<svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="13.137ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 5806.6 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-4-TEX-N-52" d="M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"></path><path id="MJX-4-TEX-N-50" d="M130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488Z"></path><path id="MJX-4-TEX-N-4E" d="M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z"></path><path id="MJX-4-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-4-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-4-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-4-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="52" xlink:href="#MJX-4-TEX-N-52"></use></g><g data-mml-node="mi" transform="translate(736,0)"><use data-c="50" xlink:href="#MJX-4-TEX-N-50"></use></g><g data-mml-node="mi" transform="translate(1417,0)"><use data-c="4E" xlink:href="#MJX-4-TEX-N-4E"></use></g></g><g data-mml-node="mo" transform="translate(2167,0)"><use data-c="28" xlink:href="#MJX-4-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(2556,0)"><use data-c="1D438" xlink:href="#MJX-4-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(3320,0)"><use data-c="29" xlink:href="#MJX-4-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(3986.8,0)"><use data-c="3D" xlink:href="#MJX-4-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(5042.6,0)"><use data-c="1D438" xlink:href="#MJX-4-TEX-I-1D438"></use></g></g></g></svg>;</p>
</li>
<li>
<p>若<svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.729ex" height="1.538ex" role="img" focusable="false" viewBox="0 -680 764 680" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-5-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-5-TEX-I-1D438"></use></g></g></g></svg>是形如<svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="12.075ex" height="1.977ex" role="img" focusable="false" viewBox="0 -680 5337.1 874" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-6-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-6-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-6-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-6-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-6-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-6-TEX-I-1D438"></use></g><g data-mml-node="mn" transform="translate(771,-150) scale(0.707)"><use data-c="31" xlink:href="#MJX-6-TEX-N-31"></use></g></g><g data-mml-node="mstyle" transform="translate(1174.6,0)"><g data-mml-node="mspace"></g></g><g data-mml-node="mi" transform="translate(2174.6,0)"><use data-c="1D45C" xlink:href="#MJX-6-TEX-I-1D45C"></use></g><g data-mml-node="mi" transform="translate(2659.6,0)"><use data-c="1D45D" xlink:href="#MJX-6-TEX-I-1D45D"></use></g><g data-mml-node="mstyle" transform="translate(3162.6,0)"><g data-mml-node="mspace"></g></g><g data-mml-node="msub" transform="translate(4162.6,0)"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-6-TEX-I-1D438"></use></g><g data-mml-node="mn" transform="translate(771,-150) scale(0.707)"><use data-c="32" xlink:href="#MJX-6-TEX-N-32"></use></g></g></g></g></svg>的表达式，则</p>
<p><span style="margin-left: 50%; transform: translateX(-50%); display: inline-block; "><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="42.466ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 18770 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-7-TEX-N-52" d="M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"></path><path id="MJX-7-TEX-N-50" d="M130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488Z"></path><path id="MJX-7-TEX-N-4E" d="M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z"></path><path id="MJX-7-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-7-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-7-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-7-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-7-TEX-N-63" d="M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z"></path><path id="MJX-7-TEX-N-6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z"></path><path id="MJX-7-TEX-N-6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z"></path><path id="MJX-7-TEX-N-61" d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z"></path><path id="MJX-7-TEX-N-74" d="M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z"></path><path id="MJX-7-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-7-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-7-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-7-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-7-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="52" xlink:href="#MJX-7-TEX-N-52"></use></g><g data-mml-node="mi" transform="translate(736,0)"><use data-c="50" xlink:href="#MJX-7-TEX-N-50"></use></g><g data-mml-node="mi" transform="translate(1417,0)"><use data-c="4E" xlink:href="#MJX-7-TEX-N-4E"></use></g></g><g data-mml-node="mo" transform="translate(2167,0)"><use data-c="28" xlink:href="#MJX-7-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(2556,0)"><use data-c="1D438" xlink:href="#MJX-7-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(3320,0)"><use data-c="29" xlink:href="#MJX-7-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(3986.8,0)"><use data-c="3D" xlink:href="#MJX-7-TEX-N-3D"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(5042.6,0)"><g data-mml-node="mi"><use data-c="63" xlink:href="#MJX-7-TEX-N-63"></use></g><g data-mml-node="mi" transform="translate(444,0)"><use data-c="6F" xlink:href="#MJX-7-TEX-N-6F"></use></g><g data-mml-node="mi" transform="translate(944,0)"><use data-c="6E" xlink:href="#MJX-7-TEX-N-6E"></use></g><g data-mml-node="mi" transform="translate(1500,0)"><use data-c="63" xlink:href="#MJX-7-TEX-N-63"></use></g><g data-mml-node="mi" transform="translate(1944,0)"><use data-c="61" xlink:href="#MJX-7-TEX-N-61"></use></g><g data-mml-node="mi" transform="translate(2444,0)"><use data-c="74" xlink:href="#MJX-7-TEX-N-74"></use></g></g><g data-mml-node="mo" transform="translate(7875.6,0)"><use data-c="28" xlink:href="#MJX-7-TEX-N-28"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(8264.6,0)"><g data-mml-node="mi"><use data-c="52" xlink:href="#MJX-7-TEX-N-52"></use></g><g data-mml-node="mi" transform="translate(736,0)"><use data-c="50" xlink:href="#MJX-7-TEX-N-50"></use></g><g data-mml-node="mi" transform="translate(1417,0)"><use data-c="4E" xlink:href="#MJX-7-TEX-N-4E"></use></g></g><g data-mml-node="mo" transform="translate(10431.6,0)"><use data-c="28" xlink:href="#MJX-7-TEX-N-28"></use></g><g data-mml-node="msub" transform="translate(10820.6,0)"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-7-TEX-I-1D438"></use></g><g data-mml-node="mn" transform="translate(771,-150) scale(0.707)"><use data-c="31" xlink:href="#MJX-7-TEX-N-31"></use></g></g><g data-mml-node="mo" transform="translate(11995.1,0)"><use data-c="29" xlink:href="#MJX-7-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(12384.1,0)"><use data-c="2C" xlink:href="#MJX-7-TEX-N-2C"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(12828.8,0)"><g data-mml-node="mi"><use data-c="52" xlink:href="#MJX-7-TEX-N-52"></use></g><g data-mml-node="mi" transform="translate(736,0)"><use data-c="50" xlink:href="#MJX-7-TEX-N-50"></use></g><g data-mml-node="mi" transform="translate(1417,0)"><use data-c="4E" xlink:href="#MJX-7-TEX-N-4E"></use></g></g><g data-mml-node="mo" transform="translate(14995.8,0)"><use data-c="28" xlink:href="#MJX-7-TEX-N-28"></use></g><g data-mml-node="msub" transform="translate(15384.8,0)"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-7-TEX-I-1D438"></use></g><g data-mml-node="mn" transform="translate(771,-150) scale(0.707)"><use data-c="32" xlink:href="#MJX-7-TEX-N-32"></use></g></g><g data-mml-node="mo" transform="translate(16559.3,0)"><use data-c="29" xlink:href="#MJX-7-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(16948.3,0)"><use data-c="2C" xlink:href="#MJX-7-TEX-N-2C"></use></g><g data-mml-node="mi" transform="translate(17393,0)"><use data-c="1D45C" xlink:href="#MJX-7-TEX-I-1D45C"></use></g><g data-mml-node="mi" transform="translate(17878,0)"><use data-c="1D45D" xlink:href="#MJX-7-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(18381,0)"><use data-c="29" xlink:href="#MJX-7-TEX-N-29"></use></g></g></g></svg></span></p>
</li>
<li>
<p>若<svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.729ex" height="1.538ex" role="img" focusable="false" viewBox="0 -680 764 680" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-8-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-8-TEX-I-1D438"></use></g></g></g></svg>是形如<svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.418ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1952.6 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-9-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-9-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-9-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-9-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="28" xlink:href="#MJX-9-TEX-N-28"></use></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-9-TEX-I-1D438"></use></g><g data-mml-node="mn" transform="translate(771,-150) scale(0.707)"><use data-c="31" xlink:href="#MJX-9-TEX-N-31"></use></g></g><g data-mml-node="mo" transform="translate(1563.6,0)"><use data-c="29" xlink:href="#MJX-9-TEX-N-29"></use></g></g></g></svg>的表达式，则<svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="20.729ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 9162.1 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-10-TEX-N-52" d="M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"></path><path id="MJX-10-TEX-N-50" d="M130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488Z"></path><path id="MJX-10-TEX-N-4E" d="M42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42Z"></path><path id="MJX-10-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-10-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-10-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-10-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-10-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="52" xlink:href="#MJX-10-TEX-N-52"></use></g><g data-mml-node="mi" transform="translate(736,0)"><use data-c="50" xlink:href="#MJX-10-TEX-N-50"></use></g><g data-mml-node="mi" transform="translate(1417,0)"><use data-c="4E" xlink:href="#MJX-10-TEX-N-4E"></use></g></g><g data-mml-node="mo" transform="translate(2167,0)"><use data-c="28" xlink:href="#MJX-10-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(2556,0)"><use data-c="1D438" xlink:href="#MJX-10-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(3320,0)"><use data-c="29" xlink:href="#MJX-10-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(3986.8,0)"><use data-c="3D" xlink:href="#MJX-10-TEX-N-3D"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(5042.6,0)"><g data-mml-node="mi"><use data-c="52" xlink:href="#MJX-10-TEX-N-52"></use></g><g data-mml-node="mi" transform="translate(736,0)"><use data-c="50" xlink:href="#MJX-10-TEX-N-50"></use></g><g data-mml-node="mi" transform="translate(1417,0)"><use data-c="4E" xlink:href="#MJX-10-TEX-N-4E"></use></g></g><g data-mml-node="mo" transform="translate(7209.6,0)"><use data-c="28" xlink:href="#MJX-10-TEX-N-28"></use></g><g data-mml-node="msub" transform="translate(7598.6,0)"><g data-mml-node="mi"><use data-c="1D438" xlink:href="#MJX-10-TEX-I-1D438"></use></g><g data-mml-node="mn" transform="translate(771,-150) scale(0.707)"><use data-c="31" xlink:href="#MJX-10-TEX-N-31"></use></g></g><g data-mml-node="mo" transform="translate(8773.1,0)"><use data-c="29" xlink:href="#MJX-10-TEX-N-29"></use></g></g></g></svg></p>
</li>
</ol>
<p>如上性质表明后缀表达是一种无括号的数学表达式表示法，其核心为运算操作符后置，无需括号也可明确运算顺序；</p>
<p>这样的数据结构可以对应一类栈式自动机；</p>
<h3><strong>抽象语法树</strong>(abstract syntax tree)</h3>
<ul>
<li>内部节点代表程序构造;</li>
<li>每个内部结点和一个运算符关联；没有对应于单产生式，也没有空产生式；</li>
</ul>
<p>树型结构包括语法分析树和抽象语法树；实际上，抽象语法树的结构不会被存储在特定数据结构中，在编译过程中，它被假装构造出来，伴随着三地址代码的生成；</p>
<p>当语法树生帮助生成的三地址代码构造成功后就会释放那部分树；</p>
<h3 id="三地址代码-四元式"><a href="#三地址代码-四元式" class="headerlink" title="三地址代码 &amp; 四元式"></a>三地址代码 &amp; 四元式</h3>
<p>三地址代码时最重要的线性表示形式；通常包括一个操作码<code>op</code>,和三个操作数<code>x,y,z</code>，使用相对地址表示；</p>
<ul>
<li>二元运算类语句的一般形式为<code>x:= y op z</code>或者<code>(op,x,y,z)</code>; 对于运算类操作，<code>y</code>,<code>z</code>指出运算的两个对象，<code>x</code>用来存放运算的结果，<code>op</code>为二元算术或逻辑运算符;</li>
<li>一元运算类赋值语句   <code>x:=op z</code>,<code>op</code>为一元运算符，如一元负<code>uminus</code>，逻辑否定<code>not</code>，类型转换<code>itr</code>等</li>
<li>复制类赋值语句<code>x:=y</code></li>
<li>无条件转移语句<code>goto L</code>,流程转移到序号为L的语句</li>
<li>条件转移语句<code>if x rop y goto L</code>或<code>if a goto L</code>,rop为关系运算符  &lt;、&lt;=、==、&gt;、&gt;=、&lt;&gt;
若<code>x</code>和<code>y</code>满足关系<code>rop</code>，或<code>a</code>为<code>true</code>时，就转向执行序号为L的语句,否则顺序执行下一语句。</li>
</ul>
<p>四元式顺序和表达式计值顺序一致;四元式之间通过临时变量实现关联。使用<code>ip</code>表示四元式编号(序号,从1开始)</p>
<p>特别的，我们约定<code>(itr, x, _, t)</code>的含义是将符号表入口<code>x</code>的整数变量转换为实数类型<code>t</code>；<code>(rti, x, _, t)</code>的含义是将符号表入口<code>x</code>的实数变量转换为整数类型<code>t</code>；</p>
<h2 id="翻译"><a href="#翻译" class="headerlink" title="翻译"></a>翻译</h2>
<h3 id="语义变量和语义过程"><a href="#语义变量和语义过程" class="headerlink" title="语义变量和语义过程"></a>语义变量和语义过程</h3>
<table>
<thead>
<tr>
<th>语义</th>
<th>类别</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i.NAME</code></td>
<td>语义变量</td>
<td>表示变量的标识符字符串</td>
</tr>
<tr>
<td><code>E.PLACE</code></td>
<td>语义变量</td>
<td>表示变量在符号表的地址或整数编码</td>
</tr>
<tr>
<td><code>newtemp()</code></td>
<td>语义过程</td>
<td>创建临时变量，返回整数编码</td>
</tr>
<tr>
<td><code>entry(i)</code></td>
<td>语义过程</td>
<td>为变量i<strong>查符号表</strong></td>
</tr>
<tr>
<td><code>emit(res, s1, op, s2)</code></td>
<td>语义过程</td>
<td>产生三地址语句<code>res:=s1 op s2</code>，同时ip自增，这里s1,s2都是指符号表某个地址</td>
</tr>
<tr>
<td><code>error()</code></td>
<td>语义过程</td>
<td>报语义错误</td>
</tr>
<tr>
<td><code>enter(name, type, offset)</code></td>
<td>语义过程</td>
<td>将变量的名字，类型和相对地址<strong>写入符号表</strong></td>
</tr>
<tr>
<td><code>backpatch(r, ip)</code></td>
<td>语义过程</td>
<td>把r为链首的三地址语句转移地址填为ip的当前值</td>
</tr>
<tr>
<td><code>merge(p1,p2)</code></td>
<td>语义过程</td>
<td>将p1,p2为链首的两条链拼接起来</td>
</tr>
</tbody>
</table>
<h3 id="翻译说明语句"><a href="#翻译说明语句" class="headerlink" title="翻译说明语句"></a>翻译说明语句</h3>
<p>对于单个变量的说明，文法表示为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">S → MD</span><br><span class="line">M → ε</span><br><span class="line">D → D;D | i:T</span><br><span class="line">T → real | integer | ↑T1</span><br></pre></td></tr></table></figure>
<p>则产生的说明语句子程序/方案为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(1) M → ε &#123;OFFSET = 0;&#125;</span><br><span class="line">(2) D → i:T &#123;enter(i.NAME, TYPE, OFFSET); OFFSET := OFFSET + T.WIDTH;&#125;</span><br><span class="line">(3) T → real | integer | ↑T1 &#123;T.TYPE=..., T.WIDTH=...&#125;</span><br><span class="line">(4) D → D;D &#123;&#125;</span><br><span class="line">(5) S → MD &#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="翻译赋值语句"><a href="#翻译赋值语句" class="headerlink" title="翻译赋值语句"></a>翻译赋值语句</h3>
<p>对于赋值简单变量，文法表示为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">S → A</span><br><span class="line">A → i := E</span><br><span class="line">E → E1 op E2 | -E1 | (E1) | i</span><br></pre></td></tr></table></figure>
<p>对于已经声明的变量，应该<strong>先查找变量名表</strong>；</p>
<p>对于赋值语句的翻译，<strong>需要进行类型检查</strong>和自动类型转换，<strong>翻译的顺序按照语法制导来</strong>，产生的说明语句子程序/方案为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">S → A &#123;S.CHAIN = 0;&#125;</span><br><span class="line">A → i := E &#123;P = entry(i.NAME); if(P != 0) &#123;emit(:=,E.PLACE,_, i);&#125; else error(); &#125; </span><br><span class="line">E → E1 op E2 &#123;E.PLACE = newtemp(); &#123;check&#125;emit(E.PLACE, E1.PLACE(), op, E2.PLACE()); &#125;</span><br><span class="line">E → -E1 &#123;E.PLACE = newtemp(); emit(E.PLACE, unimus, E1.PLACE);&#125;</span><br><span class="line">E → (E1) &#123;E.PLACE = E1.PLACE; &#125;</span><br><span class="line">E → i &#123;P = entry(i.NAME); if(P != 0) &#123;E.PLACE = P;&#125; else error();&#125;</span><br></pre></td></tr></table></figure>
<p>其中<code>{check}</code>表示类型检查的步骤，具体来说是个形如以下(op为+)的过程；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">E.place :=newtemp( );</span><br><span class="line">if E1.type=integer and T.type=integer then</span><br><span class="line">   begin emit(+i,E1.place,T,place, E.place);</span><br><span class="line">   	    E.type:=integer</span><br><span class="line">   end</span><br><span class="line">else if E1.type=real and T.type=real then</span><br><span class="line">     begin emit(+r,E1.place,T.place, E.place);</span><br><span class="line">     	E.type:=real</span><br><span class="line">     end</span><br><span class="line">else if E1.type=integer then</span><br><span class="line">    begin t:=newtemp( );</span><br><span class="line">    	emit(itr,E1.place,_,t);</span><br><span class="line">    	emit(+r,t,T.place, E.place);</span><br><span class="line">    	E.type:=real</span><br><span class="line">    end</span><br><span class="line">else </span><br><span class="line">	begin </span><br><span class="line">         t:=newtemp( );</span><br><span class="line">         emit(itr,T.place,_,t);                                     </span><br><span class="line">         emit(+r,E1.place,t, E.place);</span><br><span class="line">         E.type:=real</span><br><span class="line">      end</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="布尔表达式的翻译"><a href="#布尔表达式的翻译" class="headerlink" title="布尔表达式的翻译"></a>布尔表达式的翻译</h3>
<p>我们考虑位于控制语句中的布尔表达式，在读到转移语句的时候，具体转移的目的地尚不可知，暂记为0；</p>
<p>对于布尔变量和布尔表达式对应的语义子程序都有4步，对真假分别判断；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">B → b&#123; B.T = ip; emit(if b goto 0); B.F = ip;emit(if b goto 0);&#125;</span><br><span class="line">B → a op b&#123; B.T = ip; emit(if a op b goto 0); B.F = ip;emit(if b goto 0);&#125;</span><br></pre></td></tr></table></figure>
<h3 id="无条件转移语句的翻译"><a href="#无条件转移语句的翻译" class="headerlink" title="无条件转移语句的翻译"></a>无条件转移语句的翻译</h3>
<p>通常goto语句的产生式如下，也可能具有如下的向前转移和向后转移形式；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">label → i:</span><br><span class="line">S → goto label;</span><br><span class="line"></span><br><span class="line">L:</span><br><span class="line">...</span><br><span class="line">goto L;</span><br><span class="line"></span><br><span class="line">goto K;</span><br><span class="line">...</span><br><span class="line">K:</span><br></pre></td></tr></table></figure>
<h3 id="条件跳转语句的翻译"><a href="#条件跳转语句的翻译" class="headerlink" title="条件跳转语句的翻译"></a>条件跳转语句的翻译</h3>
<p>条件跳转语句的复杂之处在于嵌套；我们考虑如下产生式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">S → MS1</span><br><span class="line">M → if B then</span><br></pre></td></tr></table></figure>
<p><img src="/assets/Compilers/if-then%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%9B%AE%E6%A0%87%E7%BB%93%E6%9E%84.png" alt="image-20250601170926194"></p>
<p>整个语句翻译完成后，仍然不确定<code>B.F</code>，只能将它作为<code>S.CHAIN</code>暂时保留下来，那么对应的语义子程序为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(1) M → if B then &#123;backpatch(B.T, ip); M.CHAIN = B.F&#125;</span><br><span class="line">(2) S → MS1 &#123;S.CHAIN = merge(S1.CHAIN, M.CHAIN);&#125;</span><br></pre></td></tr></table></figure>
<p>对于更复杂的嵌套情况</p>
<p><img src="/assets/Compilers/if-then-else%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%9B%AE%E6%A0%87%E7%BB%93%E6%9E%84.png" alt="image-20250601170855524"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">S → NS2</span><br><span class="line">N → MS1 else </span><br><span class="line">M → if B then</span><br></pre></td></tr></table></figure>
<p>我们需要更多的合并和跳转的操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1) M → if B then &#123;backpatch(B.T, ip); M.CHAIN = B.F&#125;</span><br><span class="line">(2) N → MS1 else &#123;q = ip; emit(goto 0); backpatch(M.CHAIN, ip); N.CHAIN = merge(S1.CHAIN, q);&#125;</span><br><span class="line">(3) S → NS2 &#123;S.CHAIN = merge(S2.CHAIN, M.CHAIN);&#125;</span><br></pre></td></tr></table></figure>
<h3 id="while语句的翻译"><a href="#while语句的翻译" class="headerlink" title="while语句的翻译"></a>while语句的翻译</h3>
<p><img src="/assets/Compilers/while%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%9B%AE%E6%A0%87%E7%BB%93%E6%9E%84.png" alt="image-20250601170824872"></p>
<p>根据文法建立子程序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1) W → while &#123;W.CODE = ip;&#125; // 这里的CODE只是个标签</span><br><span class="line">(2) D→ while B do &#123;backpatch(B,T, ip); D.CHAIN=B.F; D.CODE=W.CODE;&#125;</span><br><span class="line">(3) S → DS &#123;backpatch(S1.CHAIN, D.CODE); emit(goto D.CODE); S.CHAIN=D.CHAIN;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for语句的翻译"><a href="#for语句的翻译" class="headerlink" title="for语句的翻译"></a>for语句的翻译</h3>
<p>for语句的目标结构如下图所示,一个典型的文法结构为<code>S→ for i:=E1 step E2 until E3 do S1</code></p>
<p><img src="/assets/Compilers/for%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%9B%AE%E6%A0%87%E7%BB%93%E6%9E%84.png" alt="image-20250601161116436"></p>
<p>相当于实现语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i:=E1;</span><br><span class="line">goto over;</span><br><span class="line">again: i = i + E2;</span><br><span class="line">over: if i &lt;= E3 then </span><br><span class="line">		S1;</span><br><span class="line">		goto again;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">(1) F1 → for i:=1 &#123;</span><br><span class="line">	P = entry(i.NAME);</span><br><span class="line">	emit(:=, 1,_, P);</span><br><span class="line">	F1.PLACE = P;</span><br><span class="line">	</span><br><span class="line">	F1.CHAIN = ip; // 代表标签over</span><br><span class="line">	emit(goto 0);  // 向后转移，不知道over的入口等待回填</span><br><span class="line">	</span><br><span class="line">	F1.AGAIN = ip; // 上一步ip自增，就代表again的入口</span><br><span class="line">&#125;</span><br><span class="line">(2) F2 → F1 step 1 &#123;</span><br><span class="line">	F2.AGAIN = F1.AGAIN;</span><br><span class="line">	F2.PLACE = F1.PLACE;</span><br><span class="line">	</span><br><span class="line">	emit(F2.PLACE, F2.PLACE, + , 1);</span><br><span class="line">	backpatch(F1.CHAIN, ip); //此时ip已加1，代表over的入口，可以回填</span><br><span class="line">&#125;</span><br><span class="line">(3) F3 → F2 to N &#123;</span><br><span class="line">	F3.AGAIN = F2.AGAIN;</span><br><span class="line">	F3.CHAIN = ip; // F3的出口取决于S1，暂时未知，等待回填</span><br><span class="line">	emit(if F2.PLACE &gt; N goto 0;) // 直接用F2.PLACE，因为没有更新操作</span><br><span class="line">&#125;</span><br><span class="line">(4) S → F3 do S1 &#123;</span><br><span class="line">	emit(goto F3.AGAIN);</span><br><span class="line">	backpatch(S1.CHAIN, F3.AGAIN); // 向前转移，S1上链上语句转移到again</span><br><span class="line">	</span><br><span class="line">	S.CHAIN = F3.CHAIN; // 获得程序的出口,但是依然未知</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</main>


<script src="/js/theme.js"></script>


<script src="/js/code-block-header.js"></script>


<script src="/js/code-block-copy.js"></script>


<script src="/js/code-block-theme-toggle.js"></script>


<script src="/js/code-block.js"></script>



<link rel="stylesheet" href="/css/article.css">

    
    <!-- giscus评论区 -->
    
  <div id="giscus_thread"></div>

  </div>
</article>
  
</main>

      <!-- 页脚 -->
      <footer class="footer">
  
  <span>Copyright © Kytolly(shiroi)</span>
  
  <div class="theme-switch-wrapper">
    <div class="theme-switch">
      <div class="theme-switch-item light-mode active">
        <img src="/icon/light.svg" class="icon">
      </div>
      <div class="theme-switch-item dark-mode">
        <img src="/icon/dark.svg" class="icon">
      </div>
    </div>
  </div>
</footer>


<link rel="stylesheet" href="/css/footer.css">


<script src="/js/theme-switcher.js"></script>


<script src="/js/giscus.js"></script>


      
  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <img src="/icon/search.svg" alt="Search Icon" class="search-icon" style="width:1.2em;height:1.2em;vertical-align:middle;">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <img src="/icon/search.svg" alt="Search Icon" style="width:5em;height:5em;">
        </div>
        <ul id="search-results"></ul>
      </div>
    </div>
  </div>

<link rel="stylesheet" href="/css/search.css">



    </div>
    
<script src="/js/background.js"></script>

  </body>

</html>